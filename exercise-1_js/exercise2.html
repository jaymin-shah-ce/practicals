<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        tr:nth-child(odd) {background-color: #f2f2f2;}
  
    @media screen and (max-width: 1000px) {
      #form { width: auto;}
    }
    </style>
  </head>
  <body>
<div>
        <th><input type="text" class="form-control-feedback" id="first" placeholder="&emsp;First Name"></th>
        <th><input type="text" class="form-control-feedback" id="last" placeholder="&emsp;Last Name"></th>
        <th><input type="button" class="form-control-feedback btn btn-primary" id="add" value="Add" onclick="Javascript:addRow()"></th>
        <th><input type="button" class="form-control-feedback btn btn-primary" id="render" value="Render" onclick="Javascript:generateTable()"></th>
<br>
</div>
<br>
<table id="data" cellpadding="15">
</table>
<script>
    let ind;
    let datatable = [
  { first: "Jaymin", last: "Shah" },
  { first: "Raj", last: "Kurian" },
  { first: "Aarav", last: "Rathor" },
  { first: "Hello", last: "Bye" },
  { first: "Abc", last: "Def" }
];
function addRow() {

    var first = document.getElementById("first");
    var last = document.getElementById("last");
    var table = document.getElementById("data");

    if(document.getElementById("add").value == "Add" && first.value!="" && last.value!=""){
        var rowCount = table.rows.length;
        var row = table.insertRow(rowCount);
        row.insertCell().innerHTML=first.value;
        row.insertCell().innerHTML=last.value;
        row.insertCell().innerHTML='<input type="button" class="form-control btn btn-primary" value = "Edit" onClick="Javascript:editRow(this, first, last)">';
        row.insertCell().innerHTML='<input type="button" class="form-control btn btn-primary" value = "Delete" onClick="Javascript:deleteRow(this)">';
        first.value=null;
        last.value=null;
    }

    else if(document.getElementById("add").value == "Update"){
        document.querySelector("#add").value = "Add";
        table.rows[ind].cells[0].innerHTML=first.value;
        table.rows[ind].cells[1].innerHTML=last.value;
        first.value = null;
        last.value = null;
    }

}

function editRow(obj, first, last) {
    var fname = obj.parentNode.parentNode.firstElementChild.innerHTML;
    var lname = obj.parentNode.parentNode.firstElementChild.nextElementSibling.innerHTML;
    ind = obj.parentNode.parentNode.rowIndex;
    document.querySelector("#add").value = "Update";
    first.value = fname;
    last.value = lname;
}

function deleteRow(obj) {

    var index = obj.parentNode.parentNode.rowIndex;
    table = document.getElementById("data");
    table.deleteRow(index);
    document.querySelector("#add").value = "Add";
    first.value = null;
    last.value = null;

}

function generateTable() {
    table = document.getElementById("data");
  for (let element of datatable) {
    let row = table.insertRow();
    for (key in element) {
      let text = document.createTextNode(element[key]);
      row.insertCell().appendChild(text);
    }
    row.insertCell().innerHTML='<input type="button" class="form-control btn btn-primary" value = "Edit" onClick="Javascript:editRow(this, first, last)">';
    row.insertCell().innerHTML='<input type="button" class="form-control btn btn-primary" value = "Delete" onClick="Javascript:deleteRow(this)">';
  }
}
</script>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
